<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
</head>
<body>
<div class="navbar">
<a href="#">Home</a>
<a href="#airtagSection">Add Airtag</a>
<a href="#routesSection">Routes</a>
<a href="#weatherSection">Weather</a>
</div>
<header>
<title>Futuristic Bus Tracking Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&amp;display=swap" rel="stylesheet"/>
<style>
        body {
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #000000, #474747);
            color: #ffffff;
            overflow-y: auto;
        }
        .navbar {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            overflow: hidden;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);
            padding: 10px 0;
            text-align: center;
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
        }
        .navbar a {
            color: #f2af29;
            text-decoration: none;
            padding: 14px 20px;
            display: inline-block;
            font-size: 18px;
            text-transform: uppercase;
            transition: color 0.3s ease, background 0.3s ease;
        }
        .navbar a:hover {
            color: #000000;
            background: #f2af29;
            border-radius: 5px;
        }
        header {
            background-color: #000000;
            color: #f2af29;
            padding: 20px;
            text-align: center;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);
        }
        #headerLogo {
            width: 100px;
            display: block;
            margin: 10px auto;
            filter: drop-shadow(2px 4px 6px #000000);
        }
        .container {
            padding: 20px;
            text-align: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background-color: #000000;
            color: #f2af29;
            padding: 20px;
            text-align: center;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);
        }
        #headerLogo {
            width: 100px;
            display: block;
            margin: 10px auto;
            filter: drop-shadow(2px 4px 6px #000000);
        }
        .container {
            padding: 20px;
            text-align: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        button {
            margin: 10px;
            padding: 15px 30px;
            background-color: #f2af29;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            color: #000000;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: background 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.4);
        }
        button:hover {
            background-color: #63d729;
            box-shadow: 0px 0px 15px #63d729, 0px 0px 25px #63d729;
        }
        section {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 20px 0;
            padding: 20px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.4);
        }
        h2 {
            color: #f2af29;
            text-transform: uppercase;
            font-weight: 700;
        }
        #google_translate_element {
            margin: 20px 0;
        }
        #output {
            margin-top: 20px;
            padding: 20px;
            border: 2px solid #f2af29;
            border-radius: 5px;
            min-height: 100px;
            font-size: 18px;
            background-color: #000000;
            color: #63d729;
            box-shadow: 0px 0px 15px #f2af29, 0px 0px 30px #63d729;
        }
        #eta {
            margin-top: 10px;
            font-size: 16px;
            color: #f2af29;
        }
        footer {
            margin-top: 20px;
            text-align: center;
            background-color: #000000;
            padding: 20px;
            color: #f2af29;
            box-shadow: 0px -4px 8px rgba(0, 0, 0, 0.6);
        }
        .progress-container {
            margin: 20px 0;
            width: 100%;
            height: 20px;
            background-color: #474747;
            border-radius: 10px;
            position: relative;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);
        }
        .progress-bar {
            height: 100%;
            background-color: #f2af29;
            width: 0;
            border-radius: 10px;
            transition: width 1s ease-in-out;
            position: relative;
        }
        .bullet-point {
            position: absolute;
            top: -5px;
            background-color: #474747; /* Default color */
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-left: -7.5px;
            z-index: 1;
            transition: background-color 0.5s ease;
        }
        .highlighted {
            background-color: #63d729; /* Highlighted color */
        }
        .bus-stop-text {
            position: absolute;
            top: 30px;
            font-size: 14px;
            color: #f2af29;
            text-align: center;
            width: 100%;
            white-space: nowrap;
            transform: translateX(-50%);
        }
        #busStop {
            margin-top: 40px; /* Add more space around the Next Stop text */
            padding: 20px;
            font-size: 18px;
            color: #f2af29;
            text-align: center;
            background-color: #474747;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);
        }
    </style>
<body>
<header>
<h1>NSU Shuttle App</h1>
<img alt="Spartans Logo" id="headerLogo" src="https://i.ibb.co/SN2M4v7/spartans-hellment.png"/>
</header>
<section id="progressSection">
<h1>Bus Progress Bar</h1>
<p id="busStop">Next Stop: Robinson Tech</p>
<div class="progress-container">
<div class="progress-bar" id="busProgress"></div>
<div style="position: absolute; top: 30px; left: 20%; transform: translateX(-50%); color: #ffe066;">Robinson Tech</div>
<div style="position: absolute; top: 30px; left: 40%; transform: translateX(-50%); color: #ffe066;">Brown Hall</div>
<div style="position: absolute; top: 30px; left: 60%; transform: translateX(-50%); color: #ffe066;">Spartan Station</div>
<div style="position: absolute; top: 30px; left: 80%; transform: translateX(-50%); color: #ffe066;">Fine Arts Building</div>
<div style="position: absolute; top: 30px; left: 100%; transform: translateX(-100%); color: #ffe066;">Walmart</div>
<div class="bullet-point" id="bp0" style="left: 20%;"></div>
<div class="bullet-point" id="bp1" style="left: 40%;"></div>
<div class="bullet-point" id="bp2" style="left: 60%;"></div>
<div class="bullet-point" id="bp3" style="left: 80%;"></div>
<div class="bullet-point" id="bp4" style="left: 100%;"></div>
</div>
<script>
        const stops = [
            "Robinson Tech",
            "Brown Hall",
            "Spartan Station",
            "Fine Arts Building",
            "Walmart"
        ];
        let progress = 0;
        let stopIndex = 0;

        function updateProgress() {
            const progressBar = document.getElementById("busProgress");
            const stopText = document.getElementById("busStop");
            const totalStops = stops.length;
            const bulletPoints = Array.from({ length: totalStops }, (_, i) =>
                document.getElementById(`bp${i}`)
            );

            if (stopIndex > 0) {
                bulletPoints[stopIndex - 1].classList.remove("highlighted");
            } else if (stopIndex === 0 && progress === 0) {
                bulletPoints[totalStops - 1].classList.remove("highlighted");
            }

            bulletPoints[stopIndex].classList.add("highlighted");

            progress += 20;
            progressBar.style.width = progress + "%";
            stopText.innerText = "Next Stop: " + stops[stopIndex];

            stopIndex = (stopIndex + 1) % totalStops;
            if (progress >= 100) progress = 0;
        }

        setInterval(updateProgress, 60000);
    </script>
</section>
<section id="routesSection">
<h2>Bus Routes</h2>
<div id="mapContainer" style="margin-top: 20px;">
<h3 style="color: #f2af29; font-weight: bold; margin-bottom: 10px;">On Campus</h3>
<iframe allowfullscreen="" height="450" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps/embed?pb=!1m48!1m12!1m3!1d6385.485009769856!2d-76.26857175746993!3d36.848642474416266!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m33!3e0!4m3!3m2!1d36.847216599999996!2d-76.2670876!4m5!1s0x89ba978e172eb89b%3A0xf45fb07a880d9be!2sRobinson%20Technology%20Center%2C%20700%20Park%20Ave%2C%20Norfolk%2C%20VA%2023504!3m2!1d36.849903999999995!2d-76.2663522!4m3!3m2!1d36.8495862!2d-76.2639119!4m5!1s0x89ba97f061b45f65%3A0xe027a3f30e680a1d!2sNSU%20Brown%20Hall%2C%20Norfolk%2C%20VA%2023504!3m2!1d36.849162799999995!2d-76.2622884!4m3!3m2!1d36.8492556!2d-76.2609078!4m3!3m2!1d36.846669999999996!2d-76.25754429999999!4m3!3m2!1d36.847335699999995!2d-76.2641469!5e0!3m2!1sen!2sus!4v1744390749510!5m2!1sen!2sus" style="border:0; box-shadow: 0px 4px 10px rgba(0,0,0,0.5); border-radius: 10px;" width="100%">
</iframe>
<h3 style="color: #f2af29; font-weight: bold; margin-bottom: 10px;">Hotels</h3>
<iframe allowfullscreen="" height="450" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps/embed?pb=!1m64!1m12!1m3!1d51076.138527052964!2d-76.28101216444978!3d36.86022711553164!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m49!3e0!4m5!1s0x89ba97e571050455%3A0xebc8ab76ae7de8c0!2sCharles%20H.%20Smith%2C%20Norfolk%2C%20VA!3m2!1d36.8464771!2d-76.25719!4m5!1s0x89ba97efc7ded12b%3A0xa7a671828ea74059!2sSpartan%20Suites%20Residence%20Hall%2C%202601%20Corprew%20Ave%2C%20Norfolk%2C%20VA%2023504!3m2!1d36.848691599999995!2d-76.2588136!4m5!1s0x89ba97f061b45f65%3A0xe027a3f30e680a1d!2sNSU%20Brown%20Hall%2C%20Norfolk%2C%20VA%2023504!3m2!1d36.849162799999995!2d-76.2622884!4m5!1s0x89ba97f77accf953%3A0xc0838fd42e7435e5!2sBabbette%20B.%20Smith%2C%20South%20Hall%2C%20Norfolk%2C%20VA!3m2!1d36.8492628!2d-76.26747309999999!4m5!1s0x89ba981123477707%3A0x4bfd22d0362cc9cc!2sWyndham%20Garden%20Norfolk%20Downtown!3m2!1d36.8551302!2d-76.2862043!4m5!1s0x89ba968eb60edf41%3A0x9c8814793e5bacdf!2sQuality%20Suites%20Lake%20Wright%20-%20Norfolk%20Airport!3m2!1d36.8776188!2d-76.19469699999999!4m5!1s0x89ba96451492d9ef%3A0xec0c43b91984d6c2!2sHoliday%20Inn%20Express%20%26%20Suites%20Norfolk%E2%80%A6!3m2!1d36.8616683!2d-76.21140969999999!4m5!1s0x89ba97fa7518408b%3A0xe34dd4f09d8074a1!2s2350%20Presidential%20Parkway%2C%20Norfolk%2C%20VA!3m2!1d36.8480692!2d-76.2638803!5e0!3m2!1sen!2sus!4v1744425279889!5m2!1sen!2sus" style="border:0; box-shadow: 0px 4px 10px rgba(0,0,0,0.5); border-radius: 10px;" width="100%">
</iframe>
<h3 style="color: #f2af29; font-weight: bold; margin-bottom: 10px;">Walmart</h3>
<iframe "="" allowfullscreen="" height="450" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps/embed?pb=!1m52!1m12!1m3!1d25539.760825741243!2d-76.25840437377414!3d36.85516491210365!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m37!3e0!4m5!1s0x89ba97e571050455%3A0xebc8ab76ae7de8c0!2sCharles%20H.%20Smith%2C%20Norfolk%2C%20VA!3m2!1d36.8464771!2d-76.25719!4m5!1s0x89ba97efc7ded12b%3A0xa7a671828ea74059!2sSpartan%20Suites%20Residence%20Hall%2C%202601%20Corprew%20Ave%2C%20Norfolk%2C%20VA%2023504!3m2!1d36.848691599999995!2d-76.2588136!4m5!1s0x89ba97f061b45f65%3A0xe027a3f30e680a1d!2sNSU%20Brown%20Hall%2C%20Norfolk%2C%20VA%2023504!3m2!1d36.849162799999995!2d-76.2622884!4m5!1s0x89ba97f77accf953%3A0xc0838fd42e7435e5!2sBabbette%20B.%20Smith%2C%20South%20Hall%2C%20Norfolk%2C%20VA!3m2!1d36.8492628!2d-76.26747309999999!4m5!1s0x89ba9644ad78b2a7%3A0x6b11a9e88b946e09!2sWalmart%20Supercenter%2C%20North%20Military%20Highway%2C%20Norfolk%2C%20VA!3m2!1d36.862952!2d-76.20753359999999!4m5!1s0x89ba97fa7518408b%3A0xe34dd4f09d8074a1!2s2350%20Presidential%20Parkway%2C%20Norfolk%2C%20VA!3m2!1d36.8480692!2d-76.2638803!5e0!3m2!1sen!2sus!4v1744426034692!5m2!1sen!2sus" style="border:0; box-shadow: 0px 4px 10px rgba(0,0,0,0.5); border-radius: 10px;" width="100%"></iframe>
</div>
</section>
<div id="output" style="margin-top: 20px; padding: 20px; border: 2px solid #f2af29; border-radius: 5px; font-size: 18px; background-color: #000000; color: #63d729; box-shadow: 0px 0px 15px #f2af29, 0px 0px 30px #63d729;">Loading bus status...</div>
<section id="airtagSection">
<p>
<a href="https://apps.apple.com/us/app/find-my/id1514844621" style="color: #f2af29; text-decoration: underline;" target="_blank">Add airtag</a>
</p>
<button id="helpBtn" style="background-color: transparent; border: 1px solid #f2af29; color: #f2af29; font-size: 14px;">Help</button>
<div id="helpMessage" style="display: block; margin-top:10px; padding: 10px; background-color: #333; color: #63d729; border: 1px solid #63d729; border-radius: 5px;">
    Airtag support is only available for iPhone. Please install the "Find My" app and be near the bus to add an Airtag.
  </div>
<div id="chatbotContainer" style="display:none; margin-top:15px; padding:15px; background-color:#222; border-radius:10px; border:1px solid #63d729; box-shadow: 0px 0px 15px #63d729;">
<div id="chatLog" style="max-height: 200px; overflow-y: auto; background: #111; padding: 10px; border-radius: 5px; color: #f2af29;"></div>
<input id="userInput" placeholder="Type your question..." style="margin-top:10px; width: 80%; padding: 10px; border-radius: 5px; border: none;" type="text"/>
<button onclick="sendMessage()" style="padding: 10px 15px; background-color: #63d729; color: #000; border: none; border-radius: 5px; margin-left: 5px;">Send</button>
</div>
</section>
<section id="weatherSection">
<h2>Weather Forecast</h2>
<div id="weatherData" style="margin-top: 20px; background: #1f1f1f; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px #63d729;">
<p>Loading weather data...</p>
</div>
</section>
<script>
  async function fetchWeather() {
    try {
      const response = await fetch("https://api.open-meteo.com/v1/forecast?latitude=36.846161&longitude=-76.285912&daily=temperature_2m_min,temperature_2m_max&hourly=temperature_2m,precipitation,precipitation_probability,relative_humidity_2m&current=is_day,wind_speed_10m&timezone=America%2FNew_York&temperature_unit=fahrenheit&wind_speed_unit=mph");
      const data = await response.json();

      const currentWind = data.current.wind_speed_10m + " mph";
      const todayMin = data.daily.temperature_2m_min[0] + "°F";
      const todayMax = data.daily.temperature_2m_max[0] + "°F";
      const hour = new Date().getHours();
      const tempNow = data.hourly.temperature_2m[hour] + "°F";
      const humidityNow = data.hourly.relative_humidity_2m[hour] + "%";
      const precipitationNow = data.hourly.precipitation[hour] + " mm";
      const precipitationProb = data.hourly.precipitation_probability[hour] + "%";

      document.getElementById("weatherData").innerHTML = `
        <p><strong>Current Temp:</strong> ${tempNow}</p>
        <p><strong>Wind Speed:</strong> ${currentWind}</p>
        <p><strong>Humidity:</strong> ${humidityNow}</p>
        <p><strong>Precipitation:</strong> ${precipitationNow} (Chance: ${precipitationProb})</p>
        <p><strong>Today's Low:</strong> ${todayMin}, <strong>High:</strong> ${todayMax}</p>
      `;
    } catch (error) {
      document.getElementById("weatherData").innerHTML = "<p style='color:red;'>Failed to load weather data.</p>";
    }
  }

  document.addEventListener("DOMContentLoaded", fetchWeather);
</script>



<section id="scheduleSection" style="text-align: center;">
  <h2>Shuttle Schedule</h2>
  <button onclick="toggleSchedule()" style="margin-bottom: 10px; display: inline-flex; align-items: center; gap: 10px; padding: 12px 24px; font-size: 16px; background-color: #f2af29; color: #000; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0px 4px 10px rgba(0,0,0,0.4); transition: all 0.4s ease;">
    <span id="toggleIcon" style="display: inline-block; transition: transform 0.4s ease;">&#9654;</span> View Schedule
  </button>
  <div id="scheduleContent" style="display: none; margin-top: 20px; text-align: center; padding: 20px; background: #1f1f1f; border-radius: 10px; box-shadow: 0px 0px 20px #63d729; animation: fadeIn 0.6s ease-in-out;">
    <h3 style="color: #f2af29;">Weekday Schedule (Monday–Friday)</h3>
    <p style="color: #ffffff;">8:00 AM – 5:00 PM</p>
    <h3 style="color: #f2af29;">Weekend Schedule (Saturday–Sunday)</h3>
    <p style="color: #ffffff;">8:30 AM – 5:00 PM</p>
  </div>
</section>
<style>
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>



<footer>
<h2>Translate Page</h2>
<div id="google_translate_element"></div>
</footer>
<script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" type="text/javascript"></script>
<script>
        function updateBusProgress() {
            const progressBar = document.getElementById("busProgress");
            const stopText = document.getElementById("busStop");
            const bulletPoints = document.querySelectorAll('.bullet-point');
            let progress = 0;
            let stopIndex = 0;
            let targetProgress = 20;

            function animateProgress() {
                if (progress < targetProgress) {
                    progress += 1;
                    progressBar.style.width = progress + '%';
                    requestAnimationFrame(animateProgress);
                } else {
                    bulletPoints.forEach(point => point.classList.remove('highlighted'));
                    bulletPoints[stopIndex].classList.add('highlighted');
                    stopText.innerText = `Next Stop: ${stops[stopIndex]}`;
                    stopIndex = (stopIndex + 1) % stops.length;
                    targetProgress += 20;
                    if (targetProgress > 100) {
                        targetProgress = 20;
                        progress = 0;
                        progressBar.style.width = '0%';
                    }
                    setTimeout(() => requestAnimationFrame(animateProgress), 60000);
                }
            }

            requestAnimationFrame(animateProgress);
        }

        updateBusProgress();
        </script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const helpBtn = document.getElementById("helpBtn");
    const helpDiv = document.getElementById("helpMessage");

    helpBtn.addEventListener("click", function () {
        if (helpDiv.style.display === "none" || helpDiv.style.display === "") {
            helpDiv.style.display = "block";
        } else {
            helpDiv.style.display = "none";
        }
    });
});
</script>

<script>
  function toggleSchedule() {
    const section = document.getElementById("scheduleContent");
    const icon = document.getElementById("toggleIcon");

    if (section.style.display === "none" || section.style.display === "") {
      section.style.display = "block";
      icon.style.transform = "rotate(90deg)";
    } else {
      section.style.display = "none";
      icon.style.transform = "rotate(0deg)";
    }
  }
</script>


<script>
  const busStops = ["Robinson Tech", "Brown Hall", "Spartan Station", "Fine Arts Building", "Walmart"];
  let stopIdx = 0;
  let progressPercent = 0;

  function updateBusUI() {
    const busProgress = document.getElementById("busProgress");
    const stopText = document.getElementById("busStop");
    const statusOutput = document.getElementById("output");
    const bulletPoints = document.querySelectorAll('.bullet-point');

    bulletPoints.forEach(point => point.classList.remove("highlighted"));
    bulletPoints[stopIdx].classList.add("highlighted");

    // Update progress bar
    progressPercent += 20;
    if (progressPercent > 100) progressPercent = 20;
    busProgress.style.width = progressPercent + "%";

    // Update stop text
    const currentStop = busStops[stopIdx];
    stopText.innerText = "Next Stop: " + currentStop;

    // Update bus status
    const messages = [
      `Approaching ${currentStop}`,
      `Stopping at ${currentStop}`,
      `Loading passengers at ${currentStop}`,
      `2 mins from ${currentStop}`
    ];
    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
    statusOutput.innerText = randomMessage;

    // Cycle to next stop
    stopIdx = (stopIdx + 1) % busStops.length;
  }

  setInterval(updateBusUI, 60000); // update every minute
  updateBusUI(); // initial call
</script>

</body>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const helpBtn = document.getElementById("helpBtn");
    const helpDiv = document.getElementById("helpMessage");

    helpBtn.addEventListener("click", function () {
        if (helpDiv.style.display === "none" || helpDiv.style.display === "") {
            helpDiv.style.display = "block";
        } else {
            helpDiv.style.display = "none";
        }
    });
});
</script>
</header>


<script>
document.addEventListener("DOMContentLoaded", function () {
    const helpBtn = document.getElementById("helpBtn");
    const chatContainer = document.getElementById("chatbotContainer");

    helpBtn.addEventListener("click", function () {
        if (chatContainer.style.display === "none" || chatContainer.style.display === "") {
            chatContainer.style.display = "block";
        } else {
            chatContainer.style.display = "none";
        }
    });

    window.sendMessage = function () {
        const userInput = document.getElementById("userInput");
        const chatLog = document.getElementById("chatLog");
        const message = userInput.value.trim();
        if (message === "") return;

        const userMessage = document.createElement("p");
        userMessage.style.color = "#f2af29";
        userMessage.innerHTML = "<strong>You:</strong> " + message;
        chatLog.appendChild(userMessage);

        const botMessage = document.createElement("p");
        botMessage.style.color = "#63d729";

        const msgLower = message.toLowerCase();
        let response = "";

        if (msgLower.includes("route")) {
            response = "You can view all bus routes under the 'Routes' section in the navbar.";
        } else if (msgLower.includes("airtag")) {
            response = "Airtag setup is only available for iPhones. Use the 'Find My' app and be near the bus.";
        } else if (msgLower.includes("weather")) {
            response = "Weather updates are shown in the 'Weather' section. We include temperature, wind, and humidity.";
        } else if (msgLower.includes("eta")) {
            response = "Estimated arrival times are updated in real-time and shown below the progress bar.";
        } else if (msgLower.includes("setup")) {
            response = "To setup an Airtag: download the 'Find My' app on your iPhone, get near the bus, and select your Airtag from the list.";
        } else {
            response = "Hmm, I didn't catch that. Try asking about 'routes', 'airtag', 'weather', 'ETA', or 'setup'.";
        }

        botMessage.innerHTML = "<strong>Helper Bot:</strong> " + response;
        chatLog.appendChild(botMessage);

        chatLog.scrollTop = chatLog.scrollHeight;
        userInput.value = "";
    };
});
</script>

<script>
  function toggleSchedule() {
    const section = document.getElementById("scheduleContent");
    const icon = document.getElementById("toggleIcon");

    if (section.style.display === "none" || section.style.display === "") {
      section.style.display = "block";
      icon.style.transform = "rotate(90deg)";
    } else {
      section.style.display = "none";
      icon.style.transform = "rotate(0deg)";
    }
  }
</script>


<script>
  const busStops = ["Robinson Tech", "Brown Hall", "Spartan Station", "Fine Arts Building", "Walmart"];
  let stopIdx = 0;
  let progressPercent = 0;

  function updateBusUI() {
    const busProgress = document.getElementById("busProgress");
    const stopText = document.getElementById("busStop");
    const statusOutput = document.getElementById("output");
    const bulletPoints = document.querySelectorAll('.bullet-point');

    bulletPoints.forEach(point => point.classList.remove("highlighted"));
    bulletPoints[stopIdx].classList.add("highlighted");

    // Update progress bar
    progressPercent += 20;
    if (progressPercent > 100) progressPercent = 20;
    busProgress.style.width = progressPercent + "%";

    // Update stop text
    const currentStop = busStops[stopIdx];
    stopText.innerText = "Next Stop: " + currentStop;

    // Update bus status
    const messages = [
      `Approaching ${currentStop}`,
      `Stopping at ${currentStop}`,
      `Loading passengers at ${currentStop}`,
      `2 mins from ${currentStop}`
    ];
    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
    statusOutput.innerText = randomMessage;

    // Cycle to next stop
    stopIdx = (stopIdx + 1) % busStops.length;
  }

  setInterval(updateBusUI, 60000); // update every minute
  updateBusUI(); // initial call
</script>

</body>
</html>
